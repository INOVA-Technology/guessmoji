<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
	<style>
		#canvas {
			border: 1px solid black;
		}
	</style>
</head>
<body>

<canvas id="canvas"></canvas>

<script src="/socket.io/socket.io.js"></script>
<script src="https://code.jquery.com/jquery-1.11.1.js"></script>
<script>

let wins_display = document.getElementById("wins");
let losses_display = document.getElementById("losses");
let yay_or_nay_display = document.getElementById("yay-or-nay");
let opponent_status_display = document.getElementById("opponent-status");
let form = document.getElementById("oui");

let wins = 0;
let losses = 0;

let me;
let socket = io();
socket.on('init', (data) => {
	me = data;
});

socket.on('guess_status', ({correct, op_correct, op_guess}) => {
	let rest = (op_correct ? "" : "in") + "correctly guessed " + op_guess + ".";
	let msg;
	if (correct) {
		msg = "Correct!";
		wins += 1;
		wins_display.textContent = wins.toString();
	} else {
		msg = "Booooo, get out of here.";
		losses += 1;
		losses_display.textContent = losses.toString();
	}

	yay_or_nay_display.textContent(msg);
	opponent_status_display.textContent("Opponent done! Your opponent " + rest);
});

form.addEventListener('submit', (e) => {
	e.preventDefault();
});

</script>	
</body>
</html>

